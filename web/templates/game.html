<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo - Poker Game</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Contador de Tempo -->
    <div class="timer-container" id="timerContainer" style="display: none;">
        <span class="timer-icon">‚è±Ô∏è</span>
        <span class="timer-label">Tempo restante:</span>
        <span class="timer-value" id="timerValue">60s</span>
    </div>

    <div class="poker-container">
        <button id="exitGameBtn" class="btn-exit">Sair</button>
        <!-- Painel Lateral Esquerdo -->
        <div class="stats-panel">
            <div class="stats-header">
                <h2>Estat√≠sticas</h2>
                <button id="toggleStatsBtn" class="toggle-btn" aria-label="Toggle statistics panel" aria-expanded="true" tabindex="0">Ocultar</button>
            </div>

            <!-- Round Info -->
            <div class="round-section">
                <div class="round-label">ROUND</div>
                <div class="round-value-container">
                    <div class="round-value" id="roundInfo">1/10</div>
                </div>
            </div>

            <!-- Pot Display -->
            <div class="pot-section">
                <div class="pot-label">POT</div>
                <div class="pot-value-container">
                    <img src="images/poker_pot.png" alt="chip" class="chip-icon-small">
                    <div class="pot-value" id="potAmount">0</div>
                </div>
            </div>

            <!-- Suas Fichas -->
            <div class="chips-section">
                <div class="chips-label">Suas fichas</div>
                <div class="chips-value-container">
                    <img src="images/poker_pot.png" alt="chip" class="chip-icon-small">
                    <div class="chips-value" id="playerStack">100</div>
                </div>
            </div>

            <!-- Current Hand -->
            <div class="stat-section" role="region" aria-label="Current Hand">
                <div class="stat-label">M√£o Atual</div>
                <div class="stat-value" id="currentHand" aria-live="polite" aria-atomic="true">-</div>
            </div>

            <!-- Win Probability -->
            <div class="stat-section" role="region" aria-label="Win Probability">
                <div class="stat-label">Probabilidade de Vit√≥ria</div>
                <div class="stat-value" id="winProbability" aria-live="polite" aria-atomic="true">-</div>
            </div>

            <!-- Chat Container -->
            <div class="chat-container" role="log" aria-label="Game History Chat">
                <div class="chat-header">Hist√≥rico</div>
                <div class="chat-messages" id="chatMessages" aria-live="polite" aria-atomic="false" tabindex="0"></div>
            </div>
        </div>

        <!-- √Årea Principal do Jogo -->
        <div class="game-area">
            <!-- Mensagem de Turno -->
            <div class="turn-message" id="turnMessage" style="display: none;"></div>

            <!-- Mesa com Jogadores -->
            <div class="poker-table">
                <!-- Jogadores posicionados ao redor da mesa -->
                <div class="players-container">
                    <!-- Jogadores ser√£o inseridos aqui dinamicamente -->
                    <div id="playersContainer"></div>
                </div>

                <!-- Cartas Comunit√°rias no centro -->
                <div class="community-cards-area">
                    <div class="deck-placeholder">
                        <div class="card card-back"></div>
                    </div>
                    <div id="communityCards" class="community-cards"></div>
                </div>
            </div>

            <!-- Mensagem de Erro de Timeout -->
            <div id="timeoutError" class="timeout-error" style="display: none;">
                <div class="timeout-error-content">
                    <span class="timeout-error-icon">‚è±Ô∏è</span>
                    <span class="timeout-error-message"></span>
                </div>
            </div>

            <!-- Bot√µes de A√ß√£o -->
            <div class="actions-container" id="actionsContainer" style="display: none;">
                <div class="action-buttons">
                    <button id="foldBtn" class="btn-action btn-fold">Fold</button>
                    <button id="callBtn" class="btn-action btn-call">Call</button>
                    <button id="raiseBtn" class="btn-action btn-raise">Raise</button>
                    <button id="allinBtn" class="btn-action btn-allin">All-in</button>
                </div>
                <div class="raise-input" id="raiseInput" style="display: none;">
                    <label>Valor:</label>
                    <input type="number" id="raiseAmount" min="0" value="0">
                    <button id="confirmRaiseBtn" class="btn-action btn-confirm">Confirmar</button>
                </div>
                <div id="actionInfo" class="action-info"></div>
            </div>
        </div>
    </div>

    <!-- Modal de Fim de Round -->
    <div class="round-end-modal" id="roundEndModal" style="display: none;">
        <div class="round-end-content">
            <h2 class="round-end-title">Fim do Round</h2>
            <div class="round-end-info">
                <div class="round-end-pot">
                    <span class="round-end-label">Pot Final:</span>
                    <span class="round-end-value" id="roundEndPot">0</span>
                </div>
                <div class="round-end-stacks" id="roundEndStacks"></div>
            </div>
            <button id="nextRoundBtn" class="btn-next-round">Pr√≥ximo Round</button>
        </div>
    </div>

    <!-- Modal Final do Jogo -->
    <div class="round-end-modal" id="gameEndModal" style="display: none;">
        <div class="round-end-content" style="max-width: 600px;">
            <h2 class="round-end-title" style="font-size: 32px; margin-bottom: 20px;">üéâ Jogo Finalizado! üéâ</h2>
            <div id="gameEndContent">
                <div id="gameEndWinner" style="font-size: 24px; color: #3a9f75; margin-bottom: 20px; font-weight: bold;"></div>
                <div id="gameEndStats" style="margin-top: 20px;"></div>
            </div>
            <button id="playAgainBtn" class="btn-next-round" style="margin-top: 20px;">Jogar Novamente</button>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/game.js"></script>
</body>

</html>